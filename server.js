!function(e){var n={};function t(r){if(n[r])return n[r].exports;var s=n[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=6)}([function(e,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return a}),t.d(n,"f",function(){return i}),t.d(n,"g",function(){return u}),t.d(n,"c",function(){return c}),t.d(n,"d",function(){return l}),t.d(n,"e",function(){return p});var r=t(17),s=t.n(r),o=process.env.NODE_ENV||"development",a="development"===o,i="localhost",u=process.env.PORT||4e3,c=a?"http://".concat(i,":").concat(u,"/"):"/",l=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return s.a.resolve.apply(s.a,[process.cwd()].concat(n))},p=require},function(e,n){e.exports=require("webpack")},function(e,n){e.exports=require("debug")},function(e,n){e.exports=require("webpack-merge")},function(e,n){e.exports=require("ssr-webpack-plugin")},function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return v});var r=t(1),s=t.n(r),o=t(24),a=t.n(o),i=t(25),u=t.n(i),c=t(26),l=t.n(c),p=t(27),d=t.n(p),f=t(0);function m(){return(m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var b=f.b,g=!b,h=function(e){return a.a.extract({fallback:{loader:"react-style-loader",options:{manualInject:e}},use:[{loader:"css-loader",options:{minimize:g,souceMap:b,modules:e,camelCase:!0,importLoaders:2,localIdentName:f.b?"[path][name]__[local]--[hash:base64:5]":"[hash:base64:5]"}},{loader:"postcss-loader",options:{minimize:g,souceMap:b,plugins:[l()({rootValue:16,selectorBlackList:["html"]})]}},{loader:"sass-loader",options:{minimize:g,souceMap:b}}]})},v=function(e){return{test:/\.js$/,loader:"babel-loader",exclude:/node_modules/,options:m({cacheDirectory:!0},e&&{presets:[["@babel/env",{modules:!1,exclude:["babel-plugin-transform-async-to-generator","babel-plugin-transform-regenerator"]}]]})}};n.b={devtool:f.b&&"cheap-module-source-map",resolve:{alias:{},extensions:[".js",".scss"],modules:[Object(f.d)("src"),"node_modules"]},module:{rules:[{test:/\.(png|webp)$/,use:[{loader:"url-loader",options:{limit:8192}},"img-loader"]},{test:/\.pug$/,use:["apply-loader",{loader:"pug-loader",options:{pretty:f.b}}]},{test:/\.scss$/,oneOf:[{test:/app.scss$/,use:h()},{test:/./,use:h(!0)}]}]},plugins:[new s.a.LoaderOptionsPlugin({context:e}),new a.a({disable:f.b,filename:"[name].[contenthash].css"}),new u.a,new s.a.DefinePlugin({"process.env.NODE_ENV":JSON.stringify(f.a),__DEV__:f.b})].concat(function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(f.b?[new s.a.NamedModulesPlugin,new s.a.NamedChunksPlugin]:[new d.a,new s.a.NoEmitOnErrorsPlugin,new s.a.optimize.ModuleConcatenationPlugin]))}}).call(n,"/")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(7),s=t.n(r),o=t(2),a=t.n(o),i=t(8),u=t.n(i),c=t(9),l=t.n(c),p=t(10),d=t.n(p),f=t(11),m=t.n(f),b=t(12),g=t.n(b),h=t(13),v=t.n(h),w=t(14),x=t.n(w),y=t(15),j=t.n(y),O=t(16),k=(t.n(O),t(0));function P(){return(P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var _,q,S=a()("1stg:server"),E=k.b?t(18).renderFile(Object(k.d)("server/template.pug"),{pretty:!0}):s.a.readFileSync(Object(k.d)("dist/template.html"),"utf-8"),M=new u.a,C=j()(1e3),N=[v()(),x()("public",{maxAge:31536e6}),async function(e,n){if(k.b)await _;else if(await e.cashed())return;if("GET"!==e.method||e.url.lastIndexOf(".")>e.url.lastIndexOf("/")||!["*/*","text/html"].find(function(n){return e.get("Accept").includes(n)}))return n();var t={ctx:e,title:"React SSR"};e.respond=!1;var r=e.res;q.renderToStream(t).on("afterRender",function(){e.status=t.code||200,e.set({"Content-Type":"text/html"})}).on("error",function(n){var t=n.status,s=n.url;if(s)return e.status=302,e.set({Location:s}),r.end();switch(e.status=t||500,t){case 404:return r.end("404 | Page Not Found");default:r.end("500 | Internal Server Error"),S("error during render : ".concat(s)),S(n.stack)}}).pipe(r)}],R=function(e,n){return Object(O.createBundleRenderer)(e,P({},n,{template:E,basedir:Object(k.d)("dist/static"),runInNewContext:!1}))};if(k.b){var A=t(19).default(function(e){var n=e.bundle,t=e.clientManifest;q=R(n,{clientManifest:t})}),$=A.readyPromise,F=A.webpackMiddleware;_=$,N.push(F)}else{q=R(Object(k.e)(Object(k.d)("dist/ssr-server-bundle.json")),{clientManifest:Object(k.e)(Object(k.d)("dist/ssr-client-manifest.json"))});var I={};N.splice(1,0,m()(),x()("dist/static",{maxAge:31536e6},I),g()(l()({get:function(e){return C.get(e)},set:function(e,n){return C.set(e,n)}}))),I["/service-worker.js"].maxAge=0}M.use(d()(N)),M.listen(k.g,k.f,function(){S("Server start listening at %s:%s",k.f,k.g)})},function(e,n){e.exports=require("fs")},function(e,n){e.exports=require("koa")},function(e,n){e.exports=require("koa-cash")},function(e,n){e.exports=require("koa-compose")},function(e,n){e.exports=require("koa-compress")},function(e,n){e.exports=require("koa-convert")},function(e,n){e.exports=require("koa-logger")},function(e,n){e.exports=require("koa-static-cache")},function(e,n){e.exports=require("lru-cache")},function(e,n){e.exports=require("react-server-renderer")},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("pug")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(2),s=t.n(r),o=t(20),a=t.n(o),i=t(21),u=t.n(i),c=t(1),l=t.n(c),p=t(0),d=t(22),f=t(28),m=s()("1stg:server:dev");n.default=function(e){var n,t,r,s,o=new Promise(function(e){n=e}),i=function(){n(),e.apply(void 0,arguments)},c=l()(d.a),b=a()({compiler:c,dev:{stats:{colors:!0}}});c.plugin("done",function(e){(e=e.toJson()).errors.forEach(m),e.warnings.forEach(m),e.errors.length||(s=b.dev.fileSystem,t=JSON.parse(s.readFileSync(Object(p.d)("dist/ssr-client-manifest.json"))),r&&i({bundle:r,clientManifest:t,fs:s}))});var g=new u.a,h=l()(f.a);return h.outputFileSystem=g,h.watch({},function(e,n){if(e)throw e;(n=n.toJson()).errors.length||(r=JSON.parse(g.readFileSync(Object(p.d)("dist/ssr-server-bundle.json"))),t&&i({bundle:r,clientManifest:t,fs:s}))}),{readyPromise:o,webpackMiddleware:b}}},function(e,n){e.exports=require("koa-webpack")},function(e,n){e.exports=require("memory-fs")},function(e,n,t){"use strict";var r=t(1),s=t.n(r),o=t(3),a=t.n(o),i=t(4),u=(t.n(i),t(23)),c=t.n(u),l=t(0),p=t(5),d=a.a.smart(p.b,{entry:{app:[Object(l.d)("src/entry-client.js")]},output:{publicPath:l.c,path:Object(l.d)("dist/static"),filename:"[name].[".concat(l.b?"hash":"chunkhash","].js")},module:{rules:[Object(p.a)()]},plugins:[new s.a.DefinePlugin({"process.env.REACT_ENV":'"client"',__SERVER__:!1}),new s.a.optimize.CommonsChunkPlugin({name:"vendors",minChunks:function(e){var n=e.context,t=e.request;return/node_modules/.test(n)&&!/\.css$/.test(t)}}),new s.a.optimize.CommonsChunkPlugin({name:"manifest"}),new i.SSRClientPlugin({filename:"../ssr-client-manifest.json"})]});l.b||d.plugins.push(new c.a({cacheId:"react-ssr",filename:"service-worker.js",minify:!0,dontCacheBustUrlsMatching:/./,staticFileGlobsIgnorePatterns:[/\.map$/,/\.json$/],runtimeCaching:[{urlPattern:"/",handler:"networkFirst"}]})),n.a=d},function(e,n){e.exports=require("sw-precache-webpack-plugin")},function(e,n){e.exports=require("extract-text-webpack-plugin")},function(e,n){e.exports=require("friendly-errors-webpack-plugin")},function(e,n){e.exports=require("postcss-plugin-px2rem")},function(e,n){e.exports=require("uglifyjs-webpack-plugin")},function(e,n,t){"use strict";var r=t(1),s=t.n(r),o=t(3),a=t.n(o),i=t(29),u=t.n(i),c=t(4),l=(t.n(c),t(0)),p=t(5);n.a=a.a.smart(p.b,{entry:Object(l.d)("src/entry-server.js"),target:"node",output:{publicPath:l.c,path:Object(l.d)("dist"),filename:"[name].[chunkhash].js",libraryTarget:"commonjs2"},externals:u()({whitelist:/\.css$/}),module:{rules:[Object(p.a)(!0)]},plugins:[new s.a.DefinePlugin({"process.env.REACT_ENV":'"server"',__SERVER__:!0}),new c.SSRServerPlugin]})},function(e,n){e.exports=require("webpack-node-externals")}]);