!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p});var r=n(6),o=n.n(r),s="production",i="development"===s,a=i?"hash":"contenthash",u="localhost",c=process.env.PORT||4e3,l=i?"http://".concat(u,":").concat(c,"/"):"/",f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.a.resolve.apply(o.a,[process.cwd()].concat(t))},p=require},function(e,t){e.exports=require("webpack")},function(e,t){e.exports=require("ssr-webpack-plugin")},function(e,t){e.exports=require("webpack-merge")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("mini-css-extract-plugin")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("koa-static-cache")},function(e,t){e.exports=require("webpack-node-externals")},function(e,t){e.exports=require("friendly-errors-webpack-plugin")},function(e,t){e.exports=require("sw-precache-webpack-plugin")},function(e,t){e.exports=require("memory-fs")},function(e,t){e.exports=require("koa-webpack")},function(e,t){e.exports=require("react-server-renderer")},function(e,t){e.exports=require("lru-cache")},function(e,t){e.exports=require("koa-logger")},function(e,t){e.exports=require("koa-convert")},function(e,t){e.exports=require("koa-compress")},function(e,t){e.exports=require("koa-compose")},function(e,t){e.exports=require("koa-cash")},function(e,t){e.exports=require("koa")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),s=n(12),i=n.n(s),a=n(11),u=n.n(a),c=n(1),l=n.n(c),f=n(0),p=n(3),d=n.n(p),b=n(2),m=n(10),g=n.n(m),h=n(9),v=n.n(h),y=n(5),j=n.n(y);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=f.b,x=!O,P=function(e){return[e?{loader:"react-style-loader",options:{manualInject:e}}:j.a.loader,{loader:"css-loader",options:{minimize:x,souceMap:O,modules:e,camelCase:!0,importLoaders:2,localIdentName:f.b?"[path][name]__[local]--[hash:base64:5]":"[hash:base64:5]"}},{loader:"postcss-loader",options:{souceMap:O}},{loader:"sass-loader",options:{souceMap:O}}]},S=function(e){return{test:/\.js$/,loader:"babel-loader",exclude:/node_modules/,options:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){w(e,t,n[t])})}return e}({cacheDirectory:!0},e&&{presets:[["@babel/env",{modules:!1,exclude:["babel-plugin-transform-async-to-generator","babel-plugin-transform-regenerator"]}]]})}},k={mode:f.a,devtool:f.b&&"cheap-module-source-map",resolve:{alias:{react:"anujs","react-dom":"anujs","prop-types":"anujs/lib/ReactPropTypes"},extensions:[".js",".scss"],modules:[Object(f.e)("src"),"node_modules"]},module:{rules:[{test:/\.(png|webp)$/,use:[{loader:"url-loader",options:{limit:8192}},"img-loader"]},{test:/\.pug$/,use:["apply-loader",{loader:"pug-loader",options:{pretty:f.b}}]},{test:/\.scss$/,oneOf:[{test:/app.scss$/,use:P()},{use:P(!0)}]}]},plugins:[new j.a({filename:"[name].[".concat(f.c,"].css")}),new v.a,new l.a.DefinePlugin({__DEV__:f.b})]},_=d.a.smart(k,{entry:{app:[Object(f.e)("src/entry-client.js")]},output:{publicPath:f.d,path:Object(f.e)("dist/static"),filename:"[name].[".concat(f.c,"].js")},module:{rules:[S()]},optimization:{runtimeChunk:{name:"manifest"},splitChunks:{chunks:"initial",name:"vendors",cacheGroups:{test:function(e){var t=e.context,n=e.request;return/node_modules/.test(t)&&!/\.css$/.test(n)}}}},plugins:[new l.a.DefinePlugin({"process.env.REACT_ENV":'"client"',__SERVER__:!1}),new b.SSRClientPlugin({filename:"../ssr-client-manifest.json"})]});f.b||_.plugins.push(new g.a({cacheId:"react-ssr",filename:"service-worker.js",minify:!0,dontCacheBustUrlsMatching:/./,staticFileGlobsIgnorePatterns:[/\.map$/,/\.json$/],runtimeCaching:[{urlPattern:"/",handler:"networkFirst"}]}));var q=_,M=n(8),E=n.n(M),R=d.a.smart(k,{entry:Object(f.e)("src/entry-server.js"),target:"node",output:{publicPath:f.d,path:Object(f.e)("dist"),filename:"[name].[contenthash].js",libraryTarget:"commonjs2"},externals:E()({whitelist:/\.css$/}),module:{rules:[S(!0)]},plugins:[new l.a.DefinePlugin({"process.env.REACT_ENV":'"server"',__SERVER__:!0}),new b.SSRServerPlugin]}),C=o()("1stg:server:dev");t.default=function(e){var t,n,r,o,s=new Promise(function(e){t=e}),a=function(){t(),e.apply(void 0,arguments)},c=l()(q),p=i()({compiler:c,devMiddleware:{stats:{colors:!0}}});c.plugin("done",function(e){(e=e.toJson()).errors.forEach(C),e.warnings.forEach(C),e.errors.length||p.then(function(e){o=e.devMiddleware.fileSystem,n=JSON.parse(o.readFileSync(Object(f.e)("dist/ssr-client-manifest.json"))),r&&a({bundle:r,clientManifest:n,fs:o})})});var d=new u.a,b=l()(R);return b.outputFileSystem=d,b.watch({},function(e,t){if(e)throw e;(t=t.toJson()).errors.length||(r=JSON.parse(d.readFileSync(Object(f.e)("dist/ssr-server-bundle.json"))),n&&a({bundle:r,clientManifest:n,fs:o}))}),{readyPromise:s,webpackMiddlewarePromise:p}}},function(e,t){e.exports=require("pug")},function(e,t,n){"use strict";n.r(t);var r=n(21),o=n.n(r),s=n(4),i=n.n(s),a=n(20),u=n.n(a),c=n(19),l=n.n(c),f=n(18),p=n.n(f),d=n(17),b=n.n(d),m=n(16),g=n.n(m),h=n(15),v=n.n(h),y=n(7),j=n.n(y),w=n(14),O=n.n(w),x=n(13),P=n(0);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,_,q=i()("1stg:server"),M=P.b?n(23).renderFile(Object(P.e)("server/template.pug"),{pretty:!0}):o.a.readFileSync(Object(P.e)("dist/template.html"),"utf-8"),E=new u.a,R=O()(1e3),C=[v()(),j()("public",{maxAge:31536e6}),async function(e,t){if(P.b)await k;else if(await e.cashed())return;if("GET"!==e.method||e.url.lastIndexOf(".")>e.url.lastIndexOf("/")||!["*/*","text/html"].find(function(t){return e.get("Accept").includes(t)}))return t();var n={ctx:e,title:"React SSR"};e.respond=!1;var r=e.res;_.renderToStream(n).on("afterRender",function(){e.status=n.code||200,e.set({"Content-Type":"text/html"})}).on("error",function(t){var n=t.status,o=t.url;if(o)return e.status=302,e.set({Location:o}),r.end();switch(e.status=n||500,n){case 404:return r.end("404 | Page Not Found");default:r.end("500 | Internal Server Error"),q("error during render : ".concat(o)),q(t.stack)}}).pipe(r)}],T=function(e,t){return Object(x.createBundleRenderer)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}({},t,{template:M,basedir:Object(P.e)("dist/static"),runInNewContext:!1}))};if(P.b){var $=n(22).default(function(e){var t=e.bundle,n=e.clientManifest;_=T(t,{clientManifest:n})}),F=$.readyPromise,I=$.webpackMiddlewarePromise;k=F,I.then(function(e){return E.use(e)})}else{_=T(Object(P.f)(Object(P.e)("dist/ssr-server-bundle.json")),{clientManifest:Object(P.f)(Object(P.e)("dist/ssr-client-manifest.json"))});var A={};C.splice(1,0,b()(),j()("dist/static",{maxAge:31536e6},A),g()(l()({get:function(e){return R.get(e)},set:function(e,t){return R.set(e,t)}}))),A["/service-worker.js"].maxAge=0}E.use(p()(C)),E.listen(P.h,P.g,function(){q("Server start listening at %s:%s",P.g,P.h)})}]);